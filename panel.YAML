anchorLinks:
  # Define as regras de cores uma vez e reutiliza com um apelido (*).
  - thresholds: &status_geral
      # Lembre-se: seu Zabbix retorna 1=OK e 0=Problema.
      - { color: "green", level: 1 }      # Nível 1 será verde
      - { color: "red", level: 0 }        # Nível 0 será vermelho

  - thresholds: &nivel_trafego
      - { color: "green", level: 0 }
      - { color: "orange", level: 500000000 } # 500 Mbps
      - { color: "red", level: 800000000 }    # 800 Mbps

  - thresholds: &nivel_cpu
      - { color: "green", level: 0 }
      - { color: "orange", level: 80 }
      - { color: "red", level: 95 }
      
  - thresholds: &nivel_temperatura
      - { color: "blue", level: 0 }
      - { color: "orange", level: 25 }
      - { color: "red", level: 30 }

cellIdPreamble: "" # Deixe em branco pois seus IDs não têm prefixo.
gradientMode: "hue"
cells:
  # --- CLOUDS ---
  AZURECLOUD:
    dataRef: 'ping_azure'
    fillColor:
      thresholds: *status_geral
  AWSCLOUD:
    dataRef: 'ping_aws'
    fillColor:
      thresholds: *status_geral
  ZADARACLOUD:
    dataRef: 'ping_zadara'
    fillColor:
      thresholds: *status_geral
  GOOGLECLOUD:
    dataRef: 'ping_google'
    fillColor:
      thresholds: *status_geral
  ZOHOCLOUD:
    dataRef: 'ping_zoho'
    fillColor:
      thresholds: *status_geral
  WATCHGAURDCLOUD:
    dataRef: 'ping_watchguard'
    fillColor:
      thresholds: *status_geral

  # --- PROVEDORES DE INTERNET (ISPs) ---
  ISP01VIVO:
    dataRef: 'latencia_vivo'
    fillColor:
      thresholds: *status_geral
  ISP02EMBRATEL: # Corrigi o ID que estava 'ISP01' na lista anterior
    dataRef: 'latencia_embratel'
    fillColor:
      thresholds: *status_geral

  VIVO:
    dataRef: 'trafego_vivo'
    label:
      separator: "replace"
      units: "bits/s"
  EMBRATEL:
    dataRef: 'trafego_embratel'
    label:
      separator: "replace"
      units: "bits/s"

  FirewallWatchgaurd:
    dataRef: 'ping_firewall' # Métrica principal para a cor da borda
    strokeColor:
      thresholds: *status_geral
    label:
      # Exibe múltiplos valores no mesmo label
      text: "In: ${data['trafego_in_firewall']:fmt(bits/s)} | Out: ${data['trafego_out_firewall']:fmt(bits/s)}"
      
  SWITCHDMZ:
    dataRef: 'ping_sw_dmz'
    fillColor:
      thresholds: *status_geral
  SWCORE:
    dataRef: 'ping_sw_core'
    fillColor:
      thresholds: *status_geral
    label:
      dataRef: 'cpu_sw_core' # Pode usar um dataRef diferente para o label
      separator: "append"
      text: "CPU:"
      units: "%"
  SW2960:
    dataRef: 'ping_sw_2960'
    fillColor:
      thresholds: *status_geral

  BackendPostgre:
    dataRef: 'ping_backend_pg'
    fillColor:
      thresholds: *status_geral
  dimension:
    dataRef: 'ping_dimension'
    fillColor:
      thresholds: *status_geral
    label:
      dataRef: 'cpu_dimension'
      separator: "append"
      text: "CPU:"
      units: "%"
  TermometroIP:
    dataRef: 'temp_rack'
    fillColor:
      thresholds: *nivel_temperatura
    label:
      separator: "replace"
      units: "°C"
  BackendPostgre2:
    dataRef: 'status_servico_postgres'
    fillColor:
      thresholds: *status_geral
  CFS01:
    dataRef: 'ping_cfs01'
    fillColor:
      thresholds: *status_geral
  CFS02:
    dataRef: 'ping_cfs02'
    fillColor:
      thresholds: *status_geral
